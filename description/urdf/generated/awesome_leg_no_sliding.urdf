<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from awesome_leg_test_rig.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="awesome_leg">
  <!-- <xacro:property name="payload_mass" value="7.38" /> -->
  <!-- color -->
  <material name="darkblue">
    <color rgba="0.0 0.3 0.9 1"/>
  </material>
  <material name="dark">
    <color rgba="0.6 0.6 0.6 1"/>
  </material>
  <material name="sky_blue">
    <color rgba="0.13 0.44 0.70 1"/>
  </material>
  <material name="grey">
    <color rgba=" 0.6 0.6 0.6 1"/>
  </material>
  <material name="black">
    <color rgba="0.4 0.4 0.4 1"/>
  </material>
  <material name="brown">
    <color rgba="0.59 0.29 0.0 1"/>
  </material>
  <!-- xbot2 joint device driver-->
  <gazebo>
    <plugin filename="libxbot2_gz_joint_server.so" name="xbot2_gz_joint_server">
      <pid>
        <gain d="0" name="null_mode" p="0"/>
        <gain d="5" name="small_mot" p="250"/>
        <gain d="10" name="medium_mot" p="1000"/>
        <gain d="10" name="big_mot" p="3000"/>
        <gain name="test_rig2HIP" profile="null_mode"/>
        <gain name="hip_actuation" profile="medium_mot"/>
        <gain name="knee_actuation" profile="medium_mot"/>
      </pid>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libxbot2_gz_ft_server.so" name="xbot2_ft_driver"/>
  </gazebo>
  <gazebo>
    <plugin filename="libxbot2_gz_link_state_sensor.so" name="xbot2_link_state_sensor">
      <links>
        <link name="base_link"/>
      </links>
    </plugin>
  </gazebo>
  <!--Gazebo-specific tags-->
  <gazebo reference="test_rig">
    <material>Gazebo/DarkGrey   </material>
  </gazebo>
  <gazebo reference="base_link">
    <material>Gazebo/Grey  </material>
  </gazebo>
  <!-- <xacro:if value="$(arg dump_video_frames)">

        <joint name="test_rig_2camera_link" type="fixed">
        <parent link="test_rig" />
        <child link="camera_link" />
        <origin xyz="0 ${camera_depth} ${camera_height}" rpy="0 0 0" />
        </joint>

        <link name="camera_link">
            <visual name="visual">
            <geometry>
            <box>
            <size>0.1 0.1 0.1</size>
            </box>
            </geometry>
            </visual>
            
        </link>

    </xacro:if> -->
  <link name="world"/>
  <joint name="world_test_rig" type="fixed">
    <parent link="world"/>
    <child link="test_rig"/>
    <origin xyz="0 0 0.5"/>
  </joint>
  <link name="test_rig">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 1.0"/>
      </geometry>
      <material name="brown"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 1.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1000.0"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="test_rig2base" type="fixed">
    <parent link="test_rig"/>
    <child link="base_link"/>
    <origin rpy="0.0 0.0 -1.57079632679" xyz="0.18 0 0.25"/>
  </joint>
  <link name="base_link">
    <visual name="base_link_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://awesome_leg/description/new_meshes/visual/base.stl" scale="0.1 0.1 0.1"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://awesome_leg/description/new_meshes/collision/base.stl" scale="0.1 0.1 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="6.5477704"/>
      <inertia ixx="0.044624842" ixy="-1.4644877999999999e-05" ixz="3.0225947e-05" iyy="0.02697759" iyz="0.009663635799999999" izz="0.027956754"/>
    </inertial>
  </link>
  <!--Gazebo-specific tags-->
  <gazebo reference="femur1">
    <material>Gazebo/SkyBlue  </material>
  </gazebo>
  <gazebo reference="shin1">
    <material>Gazebo/Grey  </material>
  </gazebo>
  <gazebo reference="shin1">
    <collision>
      <max_contacts> 20 </max_contacts>
      <surface>
        <friction>
          <ode>
            <mu>1</mu>
            <mu2>1</mu2>
          </ode>
          <bullet>
            <friction>1.0</friction>
            <friction2>1.0</friction2>
          </bullet>
        </friction>
        <!-- <contact>
                        <ode>
                            <kp>2100000</kp>
                            <kd>1</kd>
                            <max_vel>100</max_vel>
                        </ode>
                        <bullet>
                            <soft_cfm>0.007</soft_cfm>
                            <soft_erp>0.25</soft_erp>
                            <kp>1000000</kp>
                            <kd>5</kd>
                        </bullet>
                    </contact> -->
      </surface>
    </collision>
  </gazebo>
  <gazebo reference="tip1">
    <collision>
      <max_contacts> 1 </max_contacts>
      <surface>
        <friction>
          <ode>
            <mu>1</mu>
            <mu2>1</mu2>
          </ode>
          <bullet>
            <friction>1.0</friction>
            <friction2>1.0</friction2>
          </bullet>
        </friction>
        <contact>
          <ode>
            <kp>1000000000000</kp>
            <kd>1</kd>
            <!-- <max_vel>100</max_vel> -->
          </ode>
          <!-- <bullet>
                            <soft_cfm>0.007</soft_cfm>
                            <soft_erp>0.25</soft_erp>
                            <kp>1000000</kp>
                            <kd>5</kd>
                        </bullet> -->
        </contact>
      </surface>
    </collision>
  </gazebo>
  <!-- <xacro:if value="${ dump_video_frames== True}">

            <gazebo reference="camera">
                <sensor name="my_camera" type="camera">
                    <camera>
                        <save enabled="true">
                            <path "$(find awesome_leg)/description/urdf/utils.urdf.xacro" >
                        </save>
                        <horizontal_fov>1</horizontal_fov>
                        <image>
                        <width>1920</width>
                        <height>1080</height>
                        </image>
                        <clip>
                        <near>0.1</near>
                        <far>100</far>
                        </clip>
                        <view_controller>orbit</view_controller>
                    </camera>
                    <always_on>1</always_on>
                    <visualize>false</visualize>
                    <update_rate>30</update_rate>
                </sensor>
            </gazebo>

        </xacro:if> -->
  <!-- only add joint to base if argument is non-empty -->
  <joint name="hip_pitch_1" type="revolute">
    <parent link="base_link"/>
    <child link="femur1"/>
    <axis xyz="0 1 0"/>
    <origin xyz="0 0.21459999999999999 0"/>
    <limit effort="112" lower="-2.4" upper="2.4" velocity="20.0"/>
  </joint>
  <link name="femur1">
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="3.3712777"/>
      <inertia ixx="0.046647423" ixy="-1.269764e-05" ixz="-3.2745809999999995e-05" iyy="0.043720135" iyz="-0.063299091" izz="0.07579481299999999"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://awesome_leg/description/new_meshes/visual/femur.stl" scale="0.1 0.1 0.1"/>
      </geometry>
      <material name="darkblue"/>
    </visual>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://awesome_leg/description/new_meshes/collision/femur.stl" scale="0.1 0.1 0.1"/>
      </geometry>
    </collision>
  </link>
  <joint name="knee_pitch_1" type="revolute">
    <parent link="femur1"/>
    <child link="shin1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.1182 -0.3"/>
    <axis xyz="0 -1 0"/>
    <limit effort="112" lower="-2.4" upper="2.4" velocity="20.0"/>
  </joint>
  <link name="shin1">
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="1.3106594"/>
      <inertia ixx="0.040133964999999994" ixy="4.6219082e-08" ixz="-3.043232e-07" iyy="0.040269285" iyz="0.0013816329" izz="0.0015274496"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://awesome_leg/description/new_meshes/visual/shin.stl" scale="0.1 0.1 0.1"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://awesome_leg/description/new_meshes/collision/shin.stl" scale="0.1 0.1 0.1"/>
      </geometry>
    </collision>
  </link>
  <joint name="tip_joint_1" type="fixed">
    <parent link="shin1"/>
    <child link="tip1"/>
    <origin xyz="0.0 0.0233 -0.451"/>
  </joint>
  <link name="tip1"/>
</robot>
